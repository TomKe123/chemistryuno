# éƒ¨ç½²æ–‡ä»¶è¯´æ˜

## ğŸ“ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ–‡ä»¶åˆ—è¡¨

### é…ç½®æ–‡ä»¶
- `.env.example` - ç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹
- `nginx.conf` - Nginx æœåŠ¡å™¨é…ç½®

### Docker éƒ¨ç½²
- `Dockerfile.production` - ç”Ÿäº§ç¯å¢ƒ Docker é•œåƒï¼ˆå¤šé˜¶æ®µæ„å»ºä¼˜åŒ–ï¼‰
- `docker-compose.production.yml` - Docker Compose ç”Ÿäº§ç¯å¢ƒç¼–æ’
- `docker-entrypoint.sh` - Docker å®¹å™¨å¯åŠ¨è„šæœ¬

### å·¥å…·è„šæœ¬
- `healthcheck.js` - å¥åº·æ£€æŸ¥è„šæœ¬

### æ–‡æ¡£
- `docs/DEPLOYMENT_GUIDE.md` - å®Œæ•´éƒ¨ç½²æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDockerï¼ˆæ¨èï¼‰

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# 2. æ„å»ºå¹¶å¯åŠ¨
docker-compose -f docker-compose.production.yml up -d

# 3. æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.production.yml logs -f
```

### æ–¹å¼äºŒï¼špnpm æ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. æ„å»ºå‰ç«¯
pnpm run build

# 3. å¯åŠ¨æœåŠ¡
pnpm start
```

## ğŸ“ ä½¿ç”¨å‰å‡†å¤‡

1. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   cp .env.example .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®ç®¡ç†å‘˜å¯†ç ç­‰é…ç½®
   ```

2. **ç¡®ä¿ç«¯å£å¯ç”¨**
   - 80 (HTTP/Nginxï¼ŒDocker æ¨¡å¼)
   - 3000 (å‰ç«¯ï¼Œnpm æ¨¡å¼)
   - 5000 (API/WebSocket)

3. **Linux/macOS æ·»åŠ å¯æ‰§è¡Œæƒé™**
   ```bash
   chmod +x deploy.sh
   chmod +x docker-entrypoint.sh
   ```

## ğŸ”§ é…ç½®è¯´æ˜

### å¿…éœ€é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š

```env
# ç®¡ç†å‘˜å¯†ç ï¼ˆç”¨äºè®¿é—® /adminï¼‰
REACT_APP_ADMIN=your_strong_password

# API åœ°å€ï¼ˆç”Ÿäº§ç¯å¢ƒæ”¹ä¸ºå®é™…åŸŸåï¼‰
REACT_APP_API_URL=https://your-domain.com
```

## ğŸ“Š ç›‘æ§å’Œç®¡ç†

### Docker æ–¹å¼

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose -f docker-compose.production.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.production.yml logs -f

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.production.yml restart

# åœæ­¢æœåŠ¡
docker-compose -f docker-compose.production.yml down
```

### pnpm æ–¹å¼

```bash
# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep node

# é‡å¯æœåŠ¡ï¼ˆéœ€æ‰‹åŠ¨åœæ­¢å’Œå¯åŠ¨ï¼‰
# Ctrl+C åœæ­¢ï¼Œç„¶å pnpm start
```

## ğŸ¥ å¥åº·æ£€æŸ¥

```bash
# è¿è¡Œå¥åº·æ£€æŸ¥è„šæœ¬
node healthcheck.js

# æˆ–ä½¿ç”¨ pnpm å‘½ä»¤
pnpm run health

# æˆ–ä½¿ç”¨ curl
curl http://localhost:5000
```

## ğŸ“¦ éƒ¨ç½²æ¶æ„

### Docker æ¶æ„ï¼ˆæ¨èï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Nginx (Port 80/443)         â”‚
â”‚      (é™æ€æ–‡ä»¶ + åå‘ä»£ç†)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Node.js Server (Port 5000)      â”‚
â”‚    (API + WebSocket + æ¸¸æˆé€»è¾‘)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### npm æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     React Dev Server (Port 3000)    â”‚
â”‚         (å¼€å‘æœåŠ¡å™¨)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Node.js Server (Port 5000)      â”‚
â”‚    (API + WebSocket + æ¸¸æˆé€»è¾‘)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”’ å®‰å…¨å»ºè®®

1. **è®¾ç½®å¼ºç®¡ç†å‘˜å¯†ç **
2. **å¯ç”¨ HTTPSï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ï¼‰**
3. **é…ç½®é˜²ç«å¢™è§„åˆ™**
4. **å®šæœŸæ›´æ–°ä¾èµ–**
5. **å¯ç”¨æ—¥å¿—ç›‘æ§**

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š[DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)
- å¼€å‘è€…æŒ‡å—ï¼š[DEVELOPER_GUIDE.md](DEVELOPER_GUIDE.md)
- å¿«é€Ÿéƒ¨ç½²ï¼š[QUICK_DEPLOY.md](QUICK_DEPLOY.md)
- é¡¹ç›®ä¸»é¡µï¼š[README.md](../README.md)

---

**éƒ¨ç½²æ„‰å¿«ï¼** ğŸ‰
